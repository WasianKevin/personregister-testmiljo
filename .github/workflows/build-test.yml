name: Testa Python-appen

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  kÃ¶r-test:
    runs-on: ubuntu-latest
    
    steps:
    # Steg 1: HÃ¤mta koden frÃ¥n GitHub
    - name: HÃ¤mta kod
      uses: actions/checkout@v4
    
    # Steg 2: Installera Python
    - name: Installera Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.9'
    
    # Steg 3: KÃ¶r appen och testa
    - name: Testa applikationen
      run: |
        echo "ðŸŸ¢ Testar din Python-app..."
        echo "=============================="
        
        # AnvÃ¤nd en test-databas istÃ¤llet fÃ¶r den riktiga
        export USER_DB_PATH="test_database.db"
        
        # 1. Testa att appen kan startas
        echo "1. Startar app.py..."
        python app.py &
        APP_PID=$!
        sleep 2
        kill $APP_PID 2>/dev/null || true
        echo "âœ… Appen startar utan fel"
        
        # 2. Testa databasfunktioner
        echo ""
        echo "2. Testar databasfunktioner..."
        python -c "
